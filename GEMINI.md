# 반드시 한글로 답변해줘!

# 기능이 추가된 이후에는 반드시 에러가 없는지 검토하고 에러가 있으면 다시 수정해줘.

# 이 앱은 현재 시간을 토대로 건물로 인해 생기는 그림자를 지도에 표시해주는 그림자 지도야.

### 가정

- 모든 건물은 지면의 폴리곤 기반으로 특정 높이를 가진 기둥 형태로 가정
- 모든 빛은 일정한 입사각으로 일정하고, 평행하게 지면에 도달한다고 가정

### 그림자 계산 방법

- tan(태양 고도) 을 이용하면 그림자의 길이를 계산할 수 있고
- 지면의 폴리곤을 그림자 길이만큼 늘리면 그림자 완성

# 사용 기술 스택(기술 스택 추가될 때마다 여기에 추가)

- React: 프론트
- Vite: 프로젝트 설정
- Tailwind CSS: 스타일링
- Mapbox GL JS: 지도 및 3D 건물, 그림자 표시
- suncalc: 태양 위치 계산
- react-icons: 아이콘
- React Profiler & Lighthouse: 성능 측정 및 최적화

# 프로젝트 실행 및 테스트

## 실행

- `npm run dev`: 개발 서버를 실행합니다.
- `npm run build`: 프로덕션용으로 앱을 빌드합니다.
- `npm run preview`: 빌드된 앱을 미리 봅니다.

# 프로젝트 구조

- **아토믹 디자인 패턴**의 개념을 활용하여 컴포넌트를 체계적으로 관리합니다.
- 컴포넌트는 기능 단위로 작게 분리하여 재사용성을 높입니다.

- `src/pages`: 페이지 컴포넌트
- `src/components`: 공통 컴포넌트
  - `src/components/map/MapDebugInfo.jsx`: 지도 디버그 정보 표시 (개발 모드에서만 렌더링)
  - `src/components/map/MoveCurrentLocationButton.jsx`: 현재 위치로 지도를 이동시키는 버튼
  - `src/components/map/ScaleController.jsx`: 지도 스케일(줌 레벨) 조절 및 표시 버튼

# 주요 기능 개선 사항

- **그림자 방향 계산 로직 개선:** 태양의 방향과 반대되는 정확한 그림자 방향을 계산하도록 로직을 수정했습니다.
- **그림자 렌더링 줌 레벨 조정:** 줌 레벨 15 이상에서만 그림자가 렌더링되도록 설정했습니다.